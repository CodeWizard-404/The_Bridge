<div class="bg-gray-100 min-h-screen p-6">
    <div class="container mx-auto">
        <div class="flex justify-between items-center mb-6">
            <h1 class="text-3xl font-bold text-gray-800">Contact Submissions</h1>
        </div>

        <div class="mb-6">
            <input 
                type="text" 
                [(ngModel)]="searchTerm" 
                (ngModelChange)="filterContacts()"  
                placeholder="Search Submissions..."
                class="p-2 rounded-lg border border-gray-300 w-full" 
            />
        </div>

        <!-- Loading State -->
        <div *ngIf="loading" class="text-center py-4">
            <span class="text-lg text-gray-600">Loading contact submissions...</span>
        </div>

        <!-- Contact List -->
        <ul class="space-y-4">
            <li *ngFor="let submission of filteredContacts" class="bg-white p-4 rounded-lg shadow-lg">
                <div class="flex justify-between items-start">
                    <div>
                        <h3 class="text-xl font-semibold text-gray-800">{{ submission.name }}</h3>
                        <p class="text-sm text-gray-500">{{ submission.email }}</p>
                        <p class="text-sm text-gray-700 mt-2">{{ submission.message }}</p>
                    </div>
                    <div class="ml-4">
                        <button *ngIf="showConfirmation !== submission.id" (click)="confirmDelete(submission.id)" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition">
                            Delete
                        </button>
                        
                        <div *ngIf="showConfirmation === submission.id" class="flex items-center">
                            <button (click)="deleteContact(submission.id)" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 mr-2">
                                Confirm Delete
                            </button>
                            <button (click)="cancelDelete()" class="bg-gray-300 text-black px-4 py-2 rounded-lg hover:bg-gray-400">
                                Cancel
                            </button>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>
